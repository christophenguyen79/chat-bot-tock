import { BotMessage } from './models';
import { PersistUser } from './models/PersistUser';
import { RetrieveUser } from './models/RetrieveUser';
import { StoryHandler } from './models/StoryHandler';
export declare class Bot<TUserData extends {} = {}> {
    apiKey: string;
    host: string;
    private connection?;
    private queue;
    private queueTimer?;
    private persistUser;
    private retrieveUser;
    userData: {
        [userId: string]: TUserData;
    };
    userMessageBuffer: {
        [userId: string]: BotMessage[];
    };
    storyDefinitions: {
        [intent: string]: StoryHandler<TUserData>[];
    };
    constructor(apiKey: string, host: string);
    addStory: (intent: string, ...handlers: StoryHandler<TUserData>[]) => void;
    sendData: (data: string) => void;
    setPersistUser: (persistUser: PersistUser<TUserData>) => void;
    setRetrieveUser: (retrieveUser: RetrieveUser<TUserData>) => void;
    private createBotInterface;
    private executeQueue;
    private getUserData;
    private createUserDispatch;
    private handleBotRequest;
}
